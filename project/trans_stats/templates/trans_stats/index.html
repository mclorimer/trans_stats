{% load static %}
<!DOCTYPE html>
<title>Stats US Map</title>
<meta charset="utf-8">
<style>
	.state{
		fill: none;
		stroke: #a9a9a9;
		stroke-width: 1;
	}
	.state:hover{
		fill-opacity:0.5;
	}
	#tooltip {   
		position: absolute;           
		text-align: center;
		padding: 20px;             
		margin: 10px;
		font: 12px sans-serif;        
		background: lightsteelblue;   
		border: 1px;      
		border-radius: 2px;           
		pointer-events: none;         
	}
	#tooltip h4{
		margin:0;
		font-size:14px;
	}
	#tooltip{
		background:rgba(0,0,0,0.9);
		border:1px solid grey;
		border-radius:5px;
		font-size:12px;
		width:auto;
		padding:4px;
		color:white;
		opacity:0;
	}
	#tooltip table{
		table-layout:fixed;
	}
	#tooltip tr td{
		padding:0;
		margin:0;
	}
	#tooltip tr td:nth-child(1){
		width:50px;
	}
	#tooltip tr td:nth-child(2){
		text-align:center;
	}
</style>
<body>
<div id="tooltip"></div><!-- div to hold tooltip. -->
<svg width="960" height="600" id="statesvg"></svg> <!-- svg to hold the map. -->
<script src="{% static 'trans_stats/js/uStates.js' %}"></script> <!-- creates uStates. -->
<script src="http://d3js.org/d3.v3.min.js"></script>
<script>

	function tooltipHtml(n, d){	/* function to create html content string in tooltip div. */
		return "<h4>"+n+"</h4><table>"+
			"<tr><td>number:</td><td>"+(d.low)+"</td></tr>"+
			"</table>";
	}
	
	

	// var sampleData ={};	/* Sample random data. */	
	// ["HI", "AK", "FL", "SC", "GA", "AL", "NC", "TN", "RI", "CT", "MA",
	// "ME", "NH", "VT", "NY", "NJ", "PA", "DE", "MD", "WV", "KY", "OH", 
	// "MI", "WY", "MT", "ID", "WA", "DC", "TX", "CA", "AZ", "NV", "UT", 
	// "CO", "NM", "OR", "ND", "SD", "NE", "IA", "MS", "IN", "IL", "MN", 
	// "WI", "MO", "AR", "OK", "KS", "LS", "VA"]
	// 	.forEach(function(d){ 
	// 		var low=Math.round(100*Math.random()), 
	// 			mid=Math.round(100*Math.random()), 
	// 			high=Math.round(100*Math.random());
	// 		sampleData[d]={low:d3.min([low,mid,high]), high:d3.max([low,mid,high]), 
	// 				avg:Math.round((low+mid+high)/3), color:d3.interpolate("#ffffcc", "#800026")(low/100)}; 
	// 	});
		
	// var sampleData= {
	// 	"HI":{low:69, color:"#e6e6ff"},
	// 	"AK":{low:84, color:"#e6e6ff"},
	// 	"FL":{low:1099, color:"#0000ff"},
	// 	"SC":{low:223, color:"#b3b3ff"},
	// 	"GA":{low:614, color:"#8080ff"},
	// 	"AL":{low:228, color:"#b3b3ff"},
	// 	"NC":{low:686, color:"#8080ff"},
	// 	"TN":{low:416, color:"#b3b3ff"},
	// 	"RI":{low:119, color:"#ccccff"},
	// 	"CT":{low:319, color:"#b3b3ff"},
	// 	"MA":{low:1195, color:"#0000ff"},
	// 	"ME":{low:128, color:"#ccccff"},
	// 	"NH":{low:225, color:"#b3b3ff"},
	// 	"VT":{low:163, color:"#ccccff"},
	// 	"NY":{low:1779, color:"#0000b3"},
	// 	"NJ":{low:550, color:"#8080ff"},
	// 	"AZ":{low:537, color:"#8080ff"},
	// 	"AR":{low:222, color:"#b3b3ff"},
	// 	"CA":{low:3453, color:"#000066"},
	// 	"DE":{low:84, color:"#e6e6ff"},
	// 	"ID":{low:155, color:"#ccccff"},
	// 	"IL":{low:1082, color:"#0000ff"},
	// 	"IN":{low:452, color:"#b3b3ff"},
	// 	"IA":{low:219, color:"#b3b3ff"},
	// 	"KS":{low:197, color:"#ccccff"},
	// 	"KY":{low:274, color:"#b3b3ff"},
	// 	"LA":{low:274, color:"#b3b3ff"},
	// 	"MD":{low:662, color:"#8080ff"},
	// 	"MI":{low:894, color:"#8080ff"},
	// 	"MN":{low:670, color:"#8080ff"},
	// 	"MS":{low:82, color:"#e6e6ff"},
	// 	"MO":{low:509, color:"#8080ff"},
	// 	"MT":{low:72, color:"#e6e6ff"},
	// 	"NE":{low:165, color:"#ccccff"},
	// 	"NV":{low:206, color:"#b3b3ff"},
	// 	"NM":{low:213, color:"#b3b3ff"},
	// 	"ND":{low:46, color:"#e6e6ff"},
	// 	"OH":{low:941, color:"#8080ff"},
	// 	"OK":{low:215, color:"#b3b3ff"},
	// 	"OR":{low:1152, color:"#0000ff"},
	// 	"PA":{low:1171, color:"#0000ff"},
	// 	"SD":{low:43, color:"#e6e6ff"},
	// 	"TX":{low:1490, color:"#0000ff"},
	// 	"UT":{low:270, color:"#b3b3ff"},
	// 	"VA":{low:723, color:"#8080ff"},
	// 	"WA":{low:1667, color:"#0000b3"},
	// 	"WV":{low:83, color:"#e6e6ff"},
	// 	"WI":{low:541, color:"#8080ff"},
	// 	"WY":{low:44, color:"#e6e6ff"},
	// 	};
	
	var sampleData = {
	"HI":{low: 69, color:"#e6e6ff"},
	"AK":{low: 84, color: "#e6e6ff"},
	"FL":{low: 1099, color: "#0000ff"},
	"SC":{low: 223, color: "#b3b3ff"},
	"GA":{low: 614, color: "#8080ff"},
	"AL":{low: 228, color: "#b3b3ff"},
	"NC":{low: 686, color: "#8080ff"},
	"TN":{low: 416, color: "#b3b3ff"},
	"RI":{low: 119, color: "#ccccff"},
	"CT":{low: 319, color: "#b3b3ff"},
	"MA":{low: 1195, color: "#0000ff"},
	"ME":{low: 128, color: "#ccccff"},
	"NH":{low: 225, color: "#b3b3ff"},
	"VT":{low: 163, color: "#ccccff"},
	"NY":{low: 1779, color: "#0000b3"},
	"NJ":{low: 550, color: "#8080ff"},
	"PA":{low: 1171, color: "#0000ff"},
	"DE":{low: 84, color: "#e6e6ff"},
	"MD":{low: 662, color: "#8080ff"},
	"WV":{low: 83, color: "#e6e6ff"},
	"KY":{low: 274, color: "#b3b3ff"},
	"OH":{low: 941, color: "#8080ff"},
	"MI":{low: 894, color: "#8080ff"},
	"WY":{low: 44, color: "#e6e6ff"},
	"MT":{low: 72, color: "#e6e6ff"},
	"ID":{low: 155, color: "#ccccff"},
	"WA":{low: 1667, color: "#0000b3"},
	"DC":{low: 214, color: "#b3b3ff"},
	"TX":{low: 1490, color: "#0000ff"},
	"CA":{low: 3453, color:"#000066"},
	"AZ":{low: 537, color: "#8080ff"},
	"NV":{low: 206, color: "#b3b3ff"},
	"UT":{low: 270, color: "#b3b3ff"},
	"CO":{low: 669, color: "#8080ff"},
	"NM":{low: 213, color: "#b3b3ff"},
	"OR":{low: 1152, color: "#0000ff"},
	"ND":{low: 46, color: "#e6e6ff"},
	"SD":{low: 43, color: "#e6e6ff"},
	"NE":{low: 165, color: "#ccccff"},
	"IA":{low: 219, color: "#b3b3ff"},
	"MS":{low: 82, color: "#e6e6ff"},
	"IN":{low: 452, color: "#b3b3ff"},
	"IL":{low: 1082, color: "#0000ff"},
	"MN":{low: 670, color: "#8080ff"},
	"WI":{low: 541, color: "#8080ff"},
	"MO":{low: 509, color: "#8080ff"},
	"AR":{low: 222, color: "#b3b3ff"},
	"OK":{low: 215, color: "#b3b3ff"},
	"KS":{low: 197, color: "#ccccff"},
	"LS":{low: 274, color: "#b3b3ff"},
	"VA":{low: 723, color: "#8080ff"}
	}
		
	for(i in sampleData) {
    	console.log (i, sampleData[i])
		};
	// console.log(newData);
	
	/* draw states on id #statesvg */	
	uStates.draw("#statesvg", sampleData, tooltipHtml);
	
	d3.select(self.frameElement).style("height", "600px"); 
</script>

</body>